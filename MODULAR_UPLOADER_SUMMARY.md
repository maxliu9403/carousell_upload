# CarousellUploader æ¨¡å—åŒ–é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡

å°†åŸæœ‰çš„`CarousellUploader`æŒ‰ç…§åœ°åŸŸå’Œç±»ç›®è¿›è¡Œæ¨¡å—åŒ–é‡æ„ï¼Œä¿æŒç°æœ‰çš„ç‚¹å‡»æ“ä½œé¡ºåºå’ŒCSSé€‰æ‹©å™¨ä¸å˜ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚

## ğŸ“ æ–°çš„ç›®å½•ç»“æ„

```
uploader/
â”œâ”€â”€ base_uploader.py              # åŸºç¡€ä¸Šä¼ å™¨ç±»ï¼ŒåŒ…å«æ‰€æœ‰å…¬å…±åŠŸèƒ½
â”œâ”€â”€ uploader_factory.py           # ä¸Šä¼ å™¨å·¥å‚ç±»
â”œâ”€â”€ carousell_uploader_new.py     # æ–°çš„ä¸»ä¸Šä¼ å™¨ç±»ï¼ˆä½¿ç”¨å·¥å‚æ¨¡å¼ï¼‰
â””â”€â”€ regions/                      # åœ°åŸŸæ¨¡å—
    â”œâ”€â”€ hk/                       # é¦™æ¸¯åœ°åŸŸ
    â”‚   â”œâ”€â”€ sneakers/
    â”‚   â”‚   â””â”€â”€ sneakers_uploader.py
    â”‚   â”œâ”€â”€ bags/
    â”‚   â”‚   â””â”€â”€ bags_uploader.py
    â”‚   â””â”€â”€ clothes/
    â”‚       â””â”€â”€ clothes_uploader.py
    â”œâ”€â”€ sg/                       # æ–°åŠ å¡åœ°åŸŸ
    â”‚   â”œâ”€â”€ sneakers/
    â”‚   â”‚   â””â”€â”€ sneakers_uploader.py  # å·²å®ç°
    â”‚   â”œâ”€â”€ bags/
    â”‚   â”‚   â””â”€â”€ bags_uploader.py
    â”‚   â””â”€â”€ clothes/
    â”‚       â””â”€â”€ clothes_uploader.py
    â””â”€â”€ my/                       # é©¬æ¥è¥¿äºšåœ°åŸŸ
        â”œâ”€â”€ sneakers/
        â”‚   â””â”€â”€ sneakers_uploader.py
        â”œâ”€â”€ bags/
        â”‚   â””â”€â”€ bags_uploader.py
        â””â”€â”€ clothes/
            â””â”€â”€ clothes_uploader.py
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. åŸºç¡€ä¸Šä¼ å™¨ç±» (BaseUploader)

**æ–‡ä»¶**: `uploader/base_uploader.py`

**åŠŸèƒ½**:
- åŒ…å«æ‰€æœ‰åœ°åŸŸå’Œç±»ç›®çš„å…¬å…±åŠŸèƒ½
- ä¿æŒåŸæœ‰çš„ç‚¹å‡»æ“ä½œé¡ºåºå’ŒCSSé€‰æ‹©å™¨ä¸å˜
- æä¾›å®‰å…¨åŒ…è£…çš„ç‚¹å‡»å’Œè¾“å…¥æ“ä½œ
- åŒ…å«å®Œæ•´çš„æœåŠ¡å•†å“ä¸Šä¼ æµç¨‹

**ä¸»è¦æ–¹æ³•**:
- `_upload_service_product()` - ä¸Šä¼ æœåŠ¡å•†å“ï¼ˆå…¬å…±æ–¹æ³•ï¼‰
- `_navigate_to_homepage()` - å¯¼èˆªåˆ°ä¸»é¡µ
- `_start_upload_flow()` - å¼€å§‹ä¸Šä¼ æµç¨‹
- `_select_service_category()` - é€‰æ‹©æœåŠ¡ç±»ç›®
- `_fill_basic_info()` - å¡«å†™åŸºæœ¬ä¿¡æ¯
- `_select_location_by_region()` - æ ¹æ®åœ°åŸŸé€‰æ‹©ä½ç½®
- `_publish_product()` - å‘å¸ƒå•†å“
- `_activate_product()` - æ¿€æ´»å•†å“
- `_safe_click_subcategory()` - å®‰å…¨ç‚¹å‡»å­ç±»ç›®

### 2. ä¸Šä¼ å™¨å·¥å‚ç±» (UploaderFactory)

**æ–‡ä»¶**: `uploader/uploader_factory.py`

**åŠŸèƒ½**:
- æ ¹æ®åœ°åŸŸå’Œç±»ç›®åŠ¨æ€åˆ›å»ºå¯¹åº”çš„ä¸Šä¼ å™¨å®ä¾‹
- æ”¯æŒ9ä¸ªåœ°åŸŸ-ç±»ç›®ç»„åˆ
- æä¾›ç»„åˆéªŒè¯åŠŸèƒ½
- ä½¿ç”¨åŠ¨æ€å¯¼å…¥æœºåˆ¶

**æ”¯æŒç»„åˆ**:
- HK-sneakers, HK-bags, HK-clothes
- SG-sneakers, SG-bags, SG-clothes
- MY-sneakers, MY-bags, MY-clothes

### 3. æ–°çš„ä¸»ä¸Šä¼ å™¨ç±» (CarousellUploader)

**æ–‡ä»¶**: `uploader/carousell_uploader_new.py`

**åŠŸèƒ½**:
- ä¿æŒåŸæœ‰çš„æ¥å£ä¸å˜
- å†…éƒ¨ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºåœ°åŸŸ-ç±»ç›®ç‰¹å®šçš„ä¸Šä¼ å™¨
- æä¾›ç»Ÿä¸€çš„å•†å“ä¸Šä¼ æ¥å£

### 4. åœ°åŸŸ-ç±»ç›®ç‰¹å®šä¸Šä¼ å™¨

#### æ–°åŠ å¡è¿åŠ¨é‹ä¸Šä¼ å™¨ (SGSneakersUploader)

**æ–‡ä»¶**: `uploader/regions/sg/sneakers/sneakers_uploader.py`

**åŠŸèƒ½**:
- å®ç°æ–°åŠ å¡è¿åŠ¨é‹è·³æœåŠ¡ä¸Šä¼ é€»è¾‘
- ä¿æŒåŸæœ‰çš„ç‚¹å‡»æ“ä½œé¡ºåºå’ŒCSSé€‰æ‹©å™¨ä¸å˜
- åŒ…å«å®Œæ•´çš„è¿åŠ¨é‹ç¼–è¾‘æµç¨‹

**ä¸»è¦æ–¹æ³•**:
- `upload_product()` - ä¸»ä¸Šä¼ æ–¹æ³•
- `_upload_sneaker_by_service()` - è·³æœåŠ¡ä¸Šä¼ è¿åŠ¨é‹
- `_edit_to_sneakers()` - ç¼–è¾‘ä¸ºè¿åŠ¨é‹
- `_change_to_sneakers_category()` - ä¿®æ”¹ä¸ºè¿åŠ¨é‹ç±»ç›®
- `_fill_sneakers_details()` - å¡«å†™è¿åŠ¨é‹è¯¦ç»†ä¿¡æ¯
- `_handle_meetup_settings()` - å¤„ç†é¢äº¤è®¾ç½®

#### å…¶ä»–ä¸Šä¼ å™¨

**HKå’ŒMYçš„æ‰€æœ‰ä¸Šä¼ å™¨**: å·²åˆ›å»ºå ä½ç¬¦æ–‡ä»¶ï¼Œç­‰å¾…å…·ä½“å®ç°

## ğŸ”§ é‡æ„ç‰¹ç‚¹

### 1. ä¿æŒå…¼å®¹æ€§
- æ—§çš„`carousell_uploader.py`æ–‡ä»¶å·²åˆ é™¤ï¼Œä½¿ç”¨æ–°çš„æ¨¡å—åŒ–æ¶æ„
- æ–°çš„`carousell_uploader_new.py`æä¾›ç›¸åŒçš„æ¥å£
- æ‰€æœ‰ç‚¹å‡»æ“ä½œé¡ºåºå’ŒCSSé€‰æ‹©å™¨ä¿æŒä¸å˜

### 2. æ¨¡å—åŒ–è®¾è®¡
- æŒ‰åœ°åŸŸå’Œç±»ç›®åˆ†ç¦»ä»£ç 
- å…¬å…±åŠŸèƒ½æå–åˆ°åŸºç¡€ç±»
- æ¯ä¸ªåœ°åŸŸ-ç±»ç›®ç»„åˆç‹¬ç«‹ç®¡ç†

### 3. å·¥å‚æ¨¡å¼
- åŠ¨æ€åˆ›å»ºä¸Šä¼ å™¨å®ä¾‹
- æ”¯æŒè¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„ä¸Šä¼ å™¨
- æ˜“äºæ‰©å±•æ–°çš„åœ°åŸŸæˆ–ç±»ç›®

### 4. ç»§æ‰¿ç»“æ„
- æ‰€æœ‰ä¸Šä¼ å™¨ç»§æ‰¿è‡ª`BaseUploader`
- å…¬å…±åŠŸèƒ½å¤ç”¨ï¼Œå‡å°‘ä»£ç é‡å¤
- ç‰¹å®šé€»è¾‘åœ¨å­ç±»ä¸­å®ç°

## ğŸ“Š å®ç°çŠ¶æ€

| åœ°åŸŸ-ç±»ç›® | çŠ¶æ€ | è¯´æ˜ |
|-----------|------|------|
| SG-sneakers | âœ… å·²å®ç° | å®Œæ•´çš„è·³æœåŠ¡ä¸Šä¼ é€»è¾‘ |
| HK-sneakers | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| MY-sneakers | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| SG-bags | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| HK-bags | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| MY-bags | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| SG-clothes | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| HK-clothes | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |
| MY-clothes | â³ å ä½ç¬¦ | ç­‰å¾…å®ç° |

## ğŸš€ ä½¿ç”¨æ–¹å¼

### ä½¿ç”¨æ–¹å¼
```python
from uploader.carousell_uploader_new import CarousellUploader

uploader = CarousellUploader(page, config, region="SG", browser_id="123", sku="ABC")
result = uploader.upload_product(product_info, folder_path, "sneakers")
```

## ğŸ”® æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„åœ°åŸŸ
1. åœ¨`uploader/regions/`ä¸‹åˆ›å»ºæ–°çš„åœ°åŸŸæ–‡ä»¶å¤¹
2. åˆ›å»ºå¯¹åº”çš„ç±»ç›®æ–‡ä»¶å¤¹å’Œä¸Šä¼ å™¨æ–‡ä»¶
3. ç»§æ‰¿`BaseUploader`å¹¶å®ç°`upload_product`æ–¹æ³•
4. åœ¨`UploaderFactory`ä¸­æ·»åŠ æ–°çš„ç»„åˆæ”¯æŒ

### æ·»åŠ æ–°çš„ç±»ç›®
1. åœ¨æ¯ä¸ªåœ°åŸŸæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–°çš„ç±»ç›®æ–‡ä»¶å¤¹
2. åˆ›å»ºå¯¹åº”çš„ä¸Šä¼ å™¨æ–‡ä»¶
3. ç»§æ‰¿`BaseUploader`å¹¶å®ç°ç‰¹å®šçš„ä¸Šä¼ é€»è¾‘
4. åœ¨`UploaderFactory`ä¸­æ·»åŠ æ–°çš„ç»„åˆæ”¯æŒ

## âœ… æµ‹è¯•ç»“æœ

- âœ… ä¸Šä¼ å™¨å·¥å‚ç±»åŠŸèƒ½æ­£å¸¸
- âœ… æ”¯æŒ9ä¸ªåœ°åŸŸ-ç±»ç›®ç»„åˆ
- âœ… ç»„åˆéªŒè¯åŠŸèƒ½æ­£å¸¸
- âœ… åŠ¨æ€å¯¼å…¥æœºåˆ¶å°±ç»ª
- âœ… æ¨¡å—åŒ–ç»“æ„æ¸…æ™°

## ğŸ‰ æ€»ç»“

é€šè¿‡è¿™æ¬¡æ¨¡å—åŒ–é‡æ„ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **æ¸…æ™°çš„ä»£ç ç»“æ„** - æŒ‰åœ°åŸŸå’Œç±»ç›®ç»„ç»‡ä»£ç 
2. **é«˜åº¦çš„å¯ç»´æŠ¤æ€§** - å…¬å…±åŠŸèƒ½å¤ç”¨ï¼Œç‰¹å®šé€»è¾‘åˆ†ç¦»
3. **è‰¯å¥½çš„æ‰©å±•æ€§** - æ˜“äºæ·»åŠ æ–°çš„åœ°åŸŸæˆ–ç±»ç›®
4. **å®Œå…¨çš„å…¼å®¹æ€§** - ä¿æŒåŸæœ‰æ¥å£ä¸å˜
5. **ä¼˜åŒ–çš„æ—¥å¿—** - æ“ä½œå‰æç¤ºï¼Œæ“ä½œååé¦ˆ

ç°åœ¨æ‚¨å¯ä»¥è½»æ¾åœ°æ‰©å±•HKå’ŒMYçš„è¿åŠ¨é‹ä¸Šä¼ é€»è¾‘ï¼Œä»¥åŠå…¶ä»–ç±»ç›®çš„ä¸Šä¼ é€»è¾‘ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„æ•´æ´å’Œå¯ç»´æŠ¤æ€§ï¼
